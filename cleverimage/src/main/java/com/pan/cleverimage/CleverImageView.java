package com.pan.cleverimage;import android.content.Context;import android.content.res.TypedArray;import android.graphics.Bitmap;import android.graphics.Canvas;import android.graphics.drawable.Drawable;import android.support.v4.graphics.drawable.RoundedBitmapDrawable;import android.text.TextUtils;import android.util.AttributeSet;import android.util.Log;import android.widget.ImageView;import com.joooonho.SelectableRoundedImageView;import de.hdodenhof.circleimageview.CircleImageView;/** * Created by pan on 07/11/2017. */public class CleverImageView extends SelectableRoundedImageView {    private static final String TAG = "CleverImageView";    protected String strUrl;    protected Boolean enableCircle;    public CleverImageView(Context context) {        this(context, null);    }    public CleverImageView(Context context, AttributeSet attrs) {        this(context, attrs, 0);    }    public CleverImageView(Context context, AttributeSet attrs, int defStyle) {        super(context, attrs, defStyle);        TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.CleverImageView, defStyle, 0);        enableCircle = a.getBoolean(R.styleable.CleverImageView_enablecircle, false);        a.recycle();        setOval(enableCircle);    }    public void setImageUrl(String url) {        if (TextUtils.isEmpty(url)) {            Log.e(TAG, "Invalid url!");            return;        }        this.strUrl = url;        ImageGetter.getPic(url, new ImageGetter.ImageGotListener() {            @Override            public void OnImageGot(Bitmap bitmap) {                CleverImageView.this.setImageBitmap(bitmap);            }        });    }}